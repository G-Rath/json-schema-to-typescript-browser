"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const utils_1 = require("./utils");
const rules = new Map();
rules.set('Enum members and tsEnumNames must be of the same length', schema => {
    if (schema.enum && schema.tsEnumNames && schema.enum.length !== schema.tsEnumNames.length) {
        return false;
    }
});
rules.set('tsEnumNames must be an array of strings', schema => {
    if (schema.tsEnumNames && schema.tsEnumNames.some(_ => typeof _ !== 'string')) {
        return false;
    }
});
function validate(schema, filename) {
    const errors = [];
    rules.forEach((rule, ruleName) => {
        utils_1.mapDeep(schema, (schema, key) => {
            if (rule(schema) === false) {
                errors.push(`Error at key "${key}" in file "${filename}": ${ruleName}`);
            }
            return schema;
        });
    });
    return errors;
}
exports.validate = validate;
//# sourceMappingURL=validator.js.map